includes:
  - vendor/larastan/larastan/extension.neon

parameters:
  level: 2
  paths:
    - app
    - database
    - routes
  checkUnionTypes: true
  checkExplicitMixed: true
  inferPrivatePropertyTypeFromConstructor: true
  checkDynamicProperties: true
  reportUnmatchedIgnoredErrors: false
  ignoreErrors:
    # - identifier: missingType.iterableValue
    # - identifier: missingType.generics
    # JWT-Auth facade (external package without PHPStan stubs)
    -
      message: '#Call to an undefined static method PHPOpenSourceSaver\\JWTAuth\\Facades\\JWTAuth::(attempt|parseToken|fromUser|invalidate|authenticate)\(\)#'
      path: app/Http/Controllers/API/V1/AuthController.php
    -
      message: '#Call to an undefined static method PHPOpenSourceSaver\\JWTAuth\\Facades\\JWTAuth::(parseToken|authenticate)\(\)#'
      path: app/Http/Middleware/JWTMiddleware.php